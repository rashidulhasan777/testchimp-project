<div
  *ngIf="!formSubmitted"
  class="flex h-full w-full items-center justify-center bg-[#F6F6F6]">
  <div class="w-1/3 bg-white">
    <div class="p-12">
      <img
        src="../../assets/logo-testgorilla.svg"
        alt="logo"
        class="h-12 w-auto" />
      <h2 class="!my-4 !font-openSans !text-[24px] !font-[700] !leading-[36px]">
        Please confirm who you are
      </h2>
      <form (submit)="saveIdentity()" [formGroup]="testTakerIdentityForm">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>First Name</mat-label>
          <input matInput formControlName="firstName" />
        </mat-form-field>
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastName" />
        </mat-form-field>
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" />
        </mat-form-field>
        <button type="submit" mat-button class="w-full !py-6 !text-white">
          Submit
        </button>
      </form>
    </div>
  </div>
</div>

<div *ngIf="formSubmitted" class="h-full w-full bg-[#F5F6F6]">
  <div class="">
    <div class="flex h-16 w-full items-center bg-white">
      <div class="ml-12">
        <img
          src="../../assets/logo-testgorilla.svg"
          alt="logo"
          class="h-12 w-auto" />
      </div>
      <div class="flex w-full justify-center">
        <div
          *ngIf="minutes || seconds; else elseBlock"
          class="flex w-1/3 items-center justify-center">
          <mat-icon class="mr-2">alarm</mat-icon>
          <span>{{ minutes < 10 ? '0' + minutes : minutes }}:</span>
          <span class="mr-2">{{ seconds < 10 ? '0' + seconds : seconds }}</span>
          <mat-progress-bar
            mode="determinate"
            [value]="timeLeftPercentage"></mat-progress-bar>
        </div>
        <div>
          <ng-template #elseBlock>
            <div class="flex w-1/3 items-center justify-center">
              <mat-icon class="mr-2">alarm</mat-icon>
              <span>00:</span>
              <span class="mr-2">00</span>
              <mat-progress-bar
                mode="determinate"
                [value]="timeLeftPercentage"></mat-progress-bar>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
  <div class="m-auto h-8 w-[75vw] pt-8">
    <mat-stepper [linear]="isLinear" #stepper class="!bg-inherit">
      <mat-step *ngFor="let question of questions; index as i">
        <div class="mb-8 flex justify-between">
          <button
            *ngIf="i === 0"
            class="mr-2 rounded-md bg-[#EDEDED] px-4 py-2.5"
            (click)="backClicked()">
            <i class="fa-solid fa-chevron-left" matTooltip="Back"></i>
          </button>
          <button
            *ngIf="i > 0"
            mat-raised-button
            color="primary"
            type="button"
            matStepperPrevious>
            Back
          </button>
          <button
            *ngIf="i < questions.length - 1"
            mat-raised-button
            color="primary"
            type="button"
            matStepperNext>
            Next
          </button>
          <button
            *ngIf="i === questions.length - 1"
            mat-raised-button
            color="primary"
            type="button"
            matStepperNext>
            Submit
          </button>
        </div>
        <app-question-details
          [parent]="'testtaker'"
          [question]="question"></app-question-details>
      </mat-step>
    </mat-stepper>
  </div>
</div>
